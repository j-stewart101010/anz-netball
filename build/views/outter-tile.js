define(["jquery","underscore","backbone","models/tile","text!templates/outter-column.html","text!templates/outter-row.html","text!templates/outter-tile.html"],function(e,t,n,r,i,s,o){var u,a=n.View.extend({tagName:"div",defaults:{width:"100%",height:"100%",top:0,left:0},initialize:function(){u=this,this.options=t.extend({},this.defaults,this.options),u.image_tiles=t.filter(r.content,function(e){return t.has(e,"imageurl")});switch(this.options.type){case"column":this._template_result=t.template(i,u.image_tiles,{variable:"data"});break;case"row":this._template_result=t.template(s,u.image_tiles,{variable:"data"});break;default:this._template_result=t.template(i,u.image_tiles,{variable:"data"})}u.$el.css(this.options.styles)},render:function(){return this.$el.html(this._template_result),this},append_tiles:function(){if(this.options.type==="row")for(var e=0;e<this.options.parent.outter_columns.length;e++)this.$el.find(".grid").append(t.template(o,u.image_tiles,{variable:"data"}))},update_values:function(){var e;this.options.parent.resizing?e={width:"outerWidth",height:"outerHeight"}:e={width:"width",height:"height"},this.options.type==="column"&&this.$el.find(".image-wrap")[e.height](this.options.parent.$content.height()/4+"px"),this.options.type==="row"&&this.$el.find(".image-wrap")[e.width](this.options.parent.$content.width()/6+"px")},preload_tiles:function(){this.options.parent.preload_tiles(this.$el.find(".image-wrap"))}});return a});